# LogParser

Проект **LogParser** предназначен для парсинга лог-файлов и анализа данных о поисках и открытиях документов. Приложение выполняет два основных задания:

1. **Задание 1**: Подсчёт количества поисков документа `ACC_45616` через карточку поиска.
2. **Задание 2**: Подсчёт количества открытий каждого документа, найденного через быстрый поиск, за каждый день.

## Требования

- **Java**: версия **17.0.11** (2024-04-16 LTS)
- **Scala**: версия **3.5.2**
- **Scala code runner**: версия **1.4.3**
- **Apache Spark**: версия **3.5.3**
- **Apache Maven**: версия **3.6.0** или выше

## Сборка проекта

1. **Клонируйте репозиторий**:

   ```bash
   git clone https://github.com/temraq/logparser.git
   ```

2. **Перейдите в директорию проекта**:

   ```bash
   cd logparser
   ```

3. **Убедитесь, что установлены все зависимости**:

   - Java JDK 17
   - Scala 3.5.2
   - Apache Spark 3.5.3
   - Apache Maven 3.6.0 или выше

4. **Соберите проект с помощью Maven**:

   ```bash
   mvn clean install
   ```

## Запуск приложения

После успешной сборки запустите приложение следующей командой:

```bash
mvn exec:java -Dexec.mainClass="com.company.logparser.MainApp" -Dexec.args="src/main/resources/MainApp.run.xml"

```

## Конфигурация `MainApp`

- **Конфигурационный файл**: `src/main/resources/MainApp.run.xml`

Убедитесь, что при запуске вы выбрали файл `MainApp.run.xml`.

**Важно:** Без этого файла приложение не будет работать корректно.

## Результаты выполнения

### Задание 1

- **Количество поисков документа `ACC_45616` через карточку поиска**: **347**

Результат выводится в консоль при запуске приложения.

### Задание 2

- **Количество открытий каждого документа, найденного через быстрый поиск, за каждый день**

Результаты сохраняются в CSV-файле по пути:

```
output/doc_open_counts/
```

Каждый CSV-файл внутри этой директории содержит данные с колонками:

- **date**: дата в формате `dd.MM.yyyy`
- **docId**: идентификатор документа
- **count**: количество открытий

Откройте CSV-файлы в любом табличном редакторе.

## Проверка работы

1. **Убедитесь, что входные данные присутствуют** в директории `input`. Если необходимо, скопируйте ваши лог-файлы в эту директорию.

2. **Запустите приложение** согласно инструкциям выше.

3. **Проверьте консольный вывод** для подтверждения результатов задания 1.

4. **Откройте CSV-файлы** в директории `output/doc_open_counts` для проверки результатов задания 2.


## Контактная информация

Если у вас возникнут вопросы или проблемы при сборке и запуске проекта, пожалуйста, свяжитесь со мной:

- **Email**: temp.raquets@gmail.com
- **Telegram**: @rawrayguns


## Благодарность

Спасибо за уделённое время на проверку моего проекта. Надеюсь, эта инструкция поможет вам легко собрать и протестировать приложение.

---
